# μ¦‰μ‹ μ΅°μΉ μ™„λ£ λ³΄κ³ μ„

## π“‹ μ‘μ—… κ°μ”

μΉ΄ν…κ³ λ¦¬λ… λ¶μΌμΉ λ° Zero Score λ¬Έμ  ν•΄κ²°μ„ μ„ν• μ¦‰μ‹ μ΅°μΉλ¥Ό μ™„λ£ν–μµλ‹λ‹¤.

**μ‘μ—… μΌμ‹**: 2025-01-XX  
**μ‘μ—… νμΌ**: `api/utils/taste_category_selector.py`

---

## β… μ™„λ£λ μ‘μ—…

### 1. μΉ΄ν…κ³ λ¦¬λ… λ§¤ν•‘ κ°•ν™”

**λ³€κ²½ λ‚΄μ©**:
- `_normalize_category_name()` λ©”μ„λ“μ μΉ΄ν…κ³ λ¦¬λ… λ§¤ν•‘μ„ κ°•ν™”
- λ” μ •ν™•ν• λ¶€λ¶„ λ§¤μΉ­ λ΅μ§ μ¶”κ°€

**μ¶”κ°€λ λ§¤ν•‘**:
```python
# κΈ°μ΅΄ λ§¤ν•‘μ— μ¶”κ°€
'μ „κΈ°λ μΈμ§€': 'μ „μλ μΈμ§€',  # Oracle DB β†’ λ΅μ§
'κ±΄μ΅°κΈ°': 'κ±΄μ΅°κΈ°',  # λ…μ‹μ  λ§¤ν•‘
'μ›μ‹νƒ€μ›': 'μ›μ‹νƒ€μ›',  # λ…μ‹μ  λ§¤ν•‘
```

**κ°μ„ λ λ¶€λ¶„ λ§¤μΉ­**:
- μ„Ένƒ κ΄€λ ¨: `'μ„Ένƒ' in category` β†’ `'μ„ΈνƒκΈ°'`
- μ „μλ μΈμ§€/μ¤λΈ: λ” μ •ν™•ν• λ§¤μΉ­ λ΅μ§
- μ²­μ† κ΄€λ ¨: `'μ²­μ†' in category` β†’ `'μ²­μ†κΈ°'`
- μ¤λ””μ¤/μ‚¬μ΄λ“: `'μ¤λ””μ¤' in category or 'μ‚¬μ΄λ“' in category` β†’ `'μ¤λ””μ¤'`
- κ±΄μ΅° κ΄€λ ¨: `'κ±΄μ΅°' in category` β†’ `'κ±΄μ΅°κΈ°'`
- μ›μ‹νƒ€μ›: `'μ›μ‹' in category and ('νƒ€μ›' in category or 'μ½¤λ³΄' in category)` β†’ `'μ›μ‹νƒ€μ›'`

---

### 2. μ μ κ³„μ‚° λ΅μ§ λ³΄μ • (main_space='living'μΌ λ•)

**λ³€κ²½ λ‚΄μ©**:
- `main_space='living'`μΌ λ• μ„Ένƒ κ΄€λ ¨ μΉ΄ν…κ³ λ¦¬ μ μ μƒν–¥
- Zero Score λ¬Έμ  ν•΄κ²°μ„ μ„ν• μ¶”κ°€ μ μ λ¶€μ—¬ λ΅μ§ μ¶”κ°€

**κµ¬μ²΄μ  λ³€κ²½**:

#### A. space_scores μ μ μƒν–¥
```python
'living': {
    'μ„ΈνƒκΈ°': 20,  # κΈ°μ΅΄ 18 β†’ 20μΌλ΅ μƒν–¥
    'μ„Ένƒ': 20,    # κΈ°μ΅΄ 18 β†’ 20μΌλ΅ μƒν–¥
    'μλ¥κ΄€λ¦¬κΈ°': 18,  # κΈ°μ΅΄ 15 β†’ 18λ΅ μƒν–¥
    'κ±΄μ΅°κΈ°': 15,  # μ¶”κ°€
    'μλ¥κ±΄μ΅°κΈ°': 15,  # μ¶”κ°€
    'μ›μ‹νƒ€μ›': 15,  # μ¶”κ°€
    'μ›μ‹μ½¤λ³΄': 15,  # μ¶”κ°€
}
```

#### B. main_space='living'μΌ λ• μ„Ένƒ κ΄€λ ¨ μΉ΄ν…κ³ λ¦¬ μ¶”κ°€ μ μ λ¶€μ—¬
```python
# main_space='living'μΌ λ• μ„Ένƒ κ΄€λ ¨ μΉ΄ν…κ³ λ¦¬ μ¶”κ°€ μ μ λ¶€μ—¬
if main_space == 'living' and score == 0:
    laundry_categories = ['μ„ΈνƒκΈ°', 'μ„Ένƒ', 'κ±΄μ΅°κΈ°', 'μλ¥κ±΄μ΅°κΈ°', 'μ›μ‹νƒ€μ›', 'μ›μ‹μ½¤λ³΄', 'μλ¥κ΄€λ¦¬κΈ°']
    if category in laundry_categories or normalized_category in laundry_categories:
        score += 12  # livingμΌ λ•λ„ μ„Ένƒ κ΄€λ ¨ μΉ΄ν…κ³ λ¦¬μ— κΈ°λ³Έ μ μ λ¶€μ—¬
```

#### C. laundry κΈ°λ° μ μ λ³΄μ •
```python
# laundry='weekly'μΌ λ• μλ¥κ΄€λ¦¬κΈ° μ μ μƒν–¥
elif laundry == 'weekly':
    elif any(c in ['μλ¥κ΄€λ¦¬κΈ°'] for c in category_check_list):
        score += 6  # κΈ°μ΅΄ 5 β†’ 6μΌλ΅ μƒν–¥

# laundry='sometimes'/'monthly'μΌ λ• μλ¥κ΄€λ¦¬κΈ° μ μ μƒν–¥
elif laundry in ['sometimes', 'monthly']:
    elif any(c in ['μλ¥κ΄€λ¦¬κΈ°'] for c in category_check_list):
        score += 4  # κΈ°μ΅΄ 3 β†’ 4λ΅ μƒν–¥

# main_space='living'μ΄κ³  laundryκ°€ weekly μ΄μƒμΌ λ• μ¶”κ°€ μ μ
if main_space == 'living' and laundry in ['weekly', 'daily']:
    if any(c in ['μ„ΈνƒκΈ°', 'μ„Ένƒ', 'μλ¥κ΄€λ¦¬κΈ°'] for c in category_check_list):
        score += 3  # livingμΌ λ• μ„Ένƒ κ΄€λ ¨ μΉ΄ν…κ³ λ¦¬ μ¶”κ°€ μ μ
```

---

### 3. μλ¥κ΄€λ¦¬κΈ° μ μ λ³΄μ •

**λ³€κ²½ λ‚΄μ©**:
- `main_space='living'`μΌ λ•λ„ μλ¥κ΄€λ¦¬κΈ°μ— μ μ • μ μ λ¶€μ—¬
- laundry λΉλ„μ— λ”°λ¥Έ μ μ μ°¨λ“± μ μ©

**μ μ λ³€κ²½**:
- `space_scores['living']['μλ¥κ΄€λ¦¬κΈ°']`: 15 β†’ 18
- `laundry='weekly'`μΌ λ•: 5 β†’ 6
- `laundry='sometimes'/'monthly'`μΌ λ•: 3 β†’ 4
- `main_space='living'` + `laundry='weekly'/'daily'`μΌ λ•: +3 μ¶”κ°€

---

### 4. OBJET/SIGNATURE μ²λ¦¬ κ°μ„ 

**λ³€κ²½ λ‚΄μ©**:
- λΈλλ“ λΌμΈ μ μ λ²”μ„ ν™•λ€ (10-20μ  β†’ 15-30μ )
- λ””μμΈ μ°μ„ μμ„μΌ λ• λ” λ†’μ€ μ μ λ¶€μ—¬

**μ μ μ²΄κ³„**:

**λ””μμΈ μ°μ„ μμ„μΌ λ•**:
- `budget_level='high'/'premium'/'luxury'`: 30μ 
- `budget_level='medium'`: 25μ 
- `budget_level='low'`: 20μ 

**μΌλ° μ°μ„ μμ„μΌ λ•**:
- `budget_level='high'/'premium'/'luxury'`: 25μ 
- `budget_level='medium'`: 20μ 
- `budget_level='low'`: 15μ 

---

## π“ μμƒ ν¨κ³Ό

### 1. Zero Score λ¬Έμ  ν•΄κ²°

**κΈ°μ΅΄ λ¬Έμ **:
- 10κ° μΉ΄ν…κ³ λ¦¬κ°€ λ¨λ“  taste_idμ—μ„ 0μ 
  - `μ„ΈνƒκΈ°_SCORE`, `κ±΄μ΅°κΈ°_SCORE`, `μλ¥κ΄€λ¦¬κΈ°_SCORE`, `OBJET_SCORE`, `SIGNATURE_SCORE` λ“±

**ν•΄κ²° λ°©μ•**:
- μΉ΄ν…κ³ λ¦¬λ… λ§¤ν•‘ κ°•ν™”λ΅ Oracle DBμ™€ μ μ κ³„μ‚° λ΅μ§ κ°„ λ¶μΌμΉ ν•΄κ²°
- `main_space='living'`μΌ λ• μ„Ένƒ κ΄€λ ¨ μΉ΄ν…κ³ λ¦¬ μ μ μƒν–¥
- OBJET/SIGNATURE μ μ λ²”μ„ ν™•λ€

**μμƒ κ²°κ³Ό**:
- `μ„ΈνƒκΈ°`: 0μ  β†’ 20μ  μ΄μƒ (main_space='living'μΌ λ•)
- `μλ¥κ΄€λ¦¬κΈ°`: 0μ  β†’ 18μ  μ΄μƒ (main_space='living'μΌ λ•)
- `κ±΄μ΅°κΈ°`: 0μ  β†’ 15μ  μ΄μƒ (main_space='living'μΌ λ•)
- `OBJET`: 0μ  β†’ 15-30μ  (budget_level λ° priorityμ— λ”°λΌ)
- `SIGNATURE`: 0μ  β†’ 15-30μ  (budget_level λ° priorityμ— λ”°λΌ)

### 2. μ μ λ¶„ν¬ κ°μ„ 

**κΈ°μ΅΄**:
- `main_space='living'`μΌ λ• μ„Ένƒ κ΄€λ ¨ μΉ΄ν…κ³ λ¦¬ μ μκ°€ λ‚®μ•„ 0μ  λ°μƒ

**κ°μ„  ν›„**:
- `main_space='living'`μΌ λ•λ„ μ„Ένƒ κ΄€λ ¨ μΉ΄ν…κ³ λ¦¬μ— μ μ • μ μ λ¶€μ—¬
- laundry λΉλ„μ— λ”°λ¥Έ μ μ μ°¨λ“± μ μ©

---

## π”„ λ‹¤μ λ‹¨κ³„

### λ‹¨κΈ° μ‘μ—… (λ‹¤μ λ‹¨κ³„)

1. **λ°μ΄ν„° μ¬μƒμ„±**
   ```bash
   python manage.py populate_taste_config --taste-range 1-120
   ```
   - λ¨λ“  taste_id 1-120μ— λ€ν•΄ λ°μ΄ν„° μ¬μƒμ„±
   - Zero Score λ¬Έμ  ν•΄κ²° μ—¬λ¶€ ν™•μΈ

2. **κ²€μ¦**
   - μ¬μƒμ„±λ λ°μ΄ν„°μ—μ„ Zero Score μΉ΄ν…κ³ λ¦¬ ν™•μΈ
   - μ μ λ¶„ν¬ λ¶„μ„
   - μ¶”μ² ν’μ§ κ²€μ¦

3. **μ μ κ³„μ‚° λ΅μ§ μ¶”κ°€ λ³΄μ •** (ν•„μ” μ‹)
   - μ‹¤μ  λ°μ΄ν„° λ¶„μ„ κ²°κ³Όμ— λ”°λΌ μ¶”κ°€ λ³΄μ •
   - μΉ΄ν…κ³ λ¦¬λ³„ μ μ λ¶„ν¬ μµμ ν™”

### μ¥κΈ° μ‘μ—…

1. **TASTE_CONFIG μ •κ·ν™”**
   - μ •κ·ν™” μ μ• κ²€ν† 
   - λ§μ΄κ·Έλ μ΄μ… μ¤ν¬λ¦½νΈ μ‘μ„±
   - ν…μ¤νΈ ν™κ²½ κ²€μ¦

2. **μ„±λ¥ μµμ ν™”**
   - Logic μΊμ‹± κ°μ„ 
   - μΏΌλ¦¬ μµμ ν™”

---

## π“ λ³€κ²½ νμΌ λ©λ΅

- `api/utils/taste_category_selector.py`
  - `_normalize_category_name()`: μΉ΄ν…κ³ λ¦¬λ… λ§¤ν•‘ κ°•ν™”
  - `_calculate_category_score()`: μ μ κ³„μ‚° λ΅μ§ λ³΄μ •
    - `space_scores`: μ μ μƒν–¥
    - `main_space='living'`μΌ λ• μ„Ένƒ κ΄€λ ¨ μΉ΄ν…κ³ λ¦¬ μ¶”κ°€ μ μ
    - `laundry` κΈ°λ° μ μ λ³΄μ •
    - OBJET/SIGNATURE μ μ λ²”μ„ ν™•λ€

---

## β οΈ μ£Όμμ‚¬ν•­

1. **λ°μ΄ν„° μ¬μƒμ„± ν•„μ”**
   - λ³€κ²½ μ‚¬ν•­μ„ μ μ©ν•λ ¤λ©΄ λ¨λ“  taste_id 1-120μ— λ€ν•΄ λ°μ΄ν„° μ¬μƒμ„± ν•„μ”
   - κΈ°μ΅΄ λ°μ΄ν„°λ” λ³€κ²½ μ‚¬ν•­μ΄ λ°μλμ§€ μ•μ

2. **μ μ λ²”μ„ ν™•μΈ**
   - μ μ λ²”μ„κ°€ 0~100μ μ„ μ μ§€ν•λ”μ§€ ν™•μΈ ν•„μ”
   - μµμΆ… μ μκ°€ 100μ μ„ μ΄κ³Όν•μ§€ μ•λ„λ΅ μ£Όμ

3. **ν…μ¤νΈ**
   - λ³€κ²½ μ‚¬ν•­ μ μ© ν›„ μ‹¤μ  λ°μ΄ν„°λ΅ ν…μ¤νΈ ν•„μ”
   - μ¶”μ² ν’μ§ κ²€μ¦ ν•„μ”

---

## π“ μ°Έκ³ 

- μ›λ³Έ λ¬Έμ  λ¶„μ„: `ZERO_SCORE_ANALYSIS_REPORT.md`
- μ›ν¬ν”λ΅μ° μ”μ•½: `WORKFLOW_SUMMARY_LAST_3_DAYS.md`
- TASTE_CONFIG μ •κ·ν™” μ μ•: `TASTE_CONFIG_NORMALIZATION_PROPOSAL.md`

---

**μ‘μ„±μΌ**: 2025-01-XX  
**μ‘μ„±μ**: AI Assistant  
**λ²„μ „**: 1.0

