{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¶”ì²œ ê²°ê³¼ | LG í™ˆìŠ¤íƒ€ì¼ë§</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --lg-red: #A50034;
            --lg-red-light: #C4314B;
            --lg-black: #1A1A1A;
            --lg-gray-900: #2D2D2D;
            --lg-gray-700: #4A4A4A;
            --lg-gray-500: #6B6B6B;
            --lg-gray-300: #9E9E9E;
            --lg-gray-200: #E5E5E5;
            --lg-gray-100: #F5F5F5;
            --lg-white: #FFFFFF;
            --lg-beige: #F7F4EF;
            --lg-gradient: linear-gradient(135deg, #A50034 0%, #C4314B 100%);
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--lg-white);
            color: var(--lg-black);
            line-height: 1.6;
        }

        /* Floating Header */
        .floating-header {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 100px;
            padding: 12px 24px;
            display: flex;
            align-items: center;
            gap: 16px;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .floating-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 100px;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
            background: transparent;
            color: var(--lg-gray-700);
        }

        .floating-btn:hover {
            background: var(--lg-gray-100);
        }

        .floating-btn.primary {
            background: var(--lg-gradient);
            color: white;
        }

        .floating-btn.primary:hover {
            opacity: 0.9;
        }

        .floating-divider {
            width: 1px;
            height: 24px;
            background: var(--lg-gray-200);
        }

        /* Hero Section */
        .hero-section {
            min-height: 100vh;
            background: linear-gradient(180deg, var(--lg-beige) 0%, var(--lg-white) 100%);
            padding: 120px 40px 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23A50034' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .style-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: white;
            border: 1px solid rgba(165, 0, 52, 0.2);
            border-radius: 100px;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            color: var(--lg-red);
            margin-bottom: 32px;
        }

        .style-title {
            font-size: 48px;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 20px;
            background: var(--lg-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .style-subtitle {
            font-size: 20px;
            color: var(--lg-gray-500);
            max-width: 600px;
            margin: 0 auto 48px;
            line-height: 1.7;
        }

        /* Package Summary */
        .package-summary {
            display: flex;
            justify-content: center;
            gap: 48px;
            flex-wrap: wrap;
        }

        .summary-item {
            text-align: center;
        }

        .summary-value {
            font-size: 36px;
            font-weight: 700;
            color: var(--lg-black);
        }

        .summary-value .unit {
            font-size: 18px;
            color: var(--lg-gray-500);
        }

        .summary-label {
            font-size: 14px;
            color: var(--lg-gray-500);
            margin-top: 4px;
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        .scroll-indicator span {
            font-size: 12px;
            color: var(--lg-gray-500);
        }

        .scroll-arrow {
            font-size: 24px;
            color: var(--lg-gray-300);
        }

        /* Product Section */
        .product-section {
            padding: 120px 0;
        }

        .product-section:nth-child(even) {
            background: var(--lg-gray-100);
        }

        .product-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
        }

        .product-section:nth-child(odd) .product-container {
            direction: rtl;
        }

        .product-section:nth-child(odd) .product-container > * {
            direction: ltr;
        }

        /* Product Image */
        .product-image-wrapper {
            position: relative;
        }

        .product-image {
            width: 100%;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        .match-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--lg-gradient);
            color: white;
            padding: 12px 20px;
            border-radius: 100px;
            font-size: 14px;
            font-weight: 700;
        }

        /* Product Info */
        .product-info {
            padding: 20px 0;
        }

        .product-category {
            font-size: 14px;
            font-weight: 600;
            color: var(--lg-red);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 12px;
        }

        .product-name {
            font-size: 32px;
            font-weight: 700;
            color: var(--lg-black);
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .product-model {
            font-size: 14px;
            color: var(--lg-gray-500);
            margin-bottom: 24px;
        }

        .product-description {
            font-size: 16px;
            color: var(--lg-gray-700);
            line-height: 1.8;
            margin-bottom: 32px;
        }

        /* Recommendation Reason */
        .recommend-reason {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 32px;
            border-left: 4px solid var(--lg-red);
        }

        .recommend-reason-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--lg-red);
            margin-bottom: 8px;
        }

        .recommend-reason-text {
            font-size: 15px;
            color: var(--lg-gray-700);
            line-height: 1.6;
        }

        /* Price Section */
        .price-section {
            display: flex;
            align-items: baseline;
            gap: 12px;
            margin-bottom: 24px;
        }

        .price-original {
            font-size: 16px;
            color: var(--lg-gray-300);
            text-decoration: line-through;
        }

        .price-discount {
            font-size: 32px;
            font-weight: 700;
            color: var(--lg-black);
        }

        .price-discount .won {
            font-size: 18px;
        }

        .price-badge {
            background: #FF3B30;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 700;
        }

        /* Product Actions */
        .product-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 14px 24px;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--lg-gradient);
            color: white;
        }

        .btn-primary:hover {
            opacity: 0.9;
        }

        .btn-secondary {
            background: var(--lg-gray-100);
            color: var(--lg-gray-700);
        }

        .btn-secondary:hover {
            background: var(--lg-gray-200);
        }

        /* Total Summary */
        .total-section {
            padding: 80px 40px;
            background: var(--lg-black);
            color: white;
        }

        .total-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .total-header {
            text-align: center;
            margin-bottom: 48px;
        }

        .total-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .total-subtitle {
            font-size: 16px;
            color: var(--lg-gray-300);
        }

        .total-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-bottom: 48px;
        }

        .total-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 32px;
            text-align: center;
        }

        .total-card-label {
            font-size: 14px;
            color: var(--lg-gray-300);
            margin-bottom: 8px;
        }

        .total-card-value {
            font-size: 28px;
            font-weight: 700;
        }

        .total-card-value.highlight {
            color: #FF3B30;
        }

        .total-actions {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .total-actions .btn {
            padding: 18px 32px;
            font-size: 16px;
        }

        .btn-white {
            background: white;
            color: var(--lg-black);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid white;
            color: white;
        }

        .btn-outline:hover {
            background: white;
            color: var(--lg-black);
        }

        /* Alternative Products */
        .alternatives-section {
            padding: 80px 40px;
            background: var(--lg-beige);
        }

        .alternatives-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .alternatives-header {
            text-align: center;
            margin-bottom: 48px;
        }

        .alternatives-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .alternatives-subtitle {
            font-size: 16px;
            color: var(--lg-gray-500);
        }

        /* Category Tabs */
        .category-tabs {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .category-tab {
            padding: 12px 24px;
            border-radius: 100px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            background: white;
            color: var(--lg-gray-500);
            transition: all 0.2s;
        }

        .category-tab.active {
            background: var(--lg-gradient);
            color: white;
        }

        .category-tab:hover:not(.active) {
            background: var(--lg-gray-100);
        }

        /* Product Cards Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .product-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        .product-card-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-card-content {
            padding: 24px;
        }

        .product-card-category {
            font-size: 12px;
            font-weight: 600;
            color: var(--lg-red);
            margin-bottom: 8px;
        }

        .product-card-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--lg-black);
            margin-bottom: 8px;
        }

        .product-card-price {
            font-size: 20px;
            font-weight: 700;
            color: var(--lg-black);
        }

        .product-card-reason {
            font-size: 13px;
            color: var(--lg-gray-500);
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--lg-gray-200);
        }

        /* Footer */
        .footer {
            padding: 60px 40px;
            background: var(--lg-gray-900);
            color: var(--lg-gray-300);
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-logo {
            font-size: 20px;
            font-weight: 700;
            color: white;
        }

        .footer-links {
            display: flex;
            gap: 24px;
        }

        .footer-links a {
            color: var(--lg-gray-300);
            text-decoration: none;
            font-size: 14px;
        }

        .footer-links a:hover {
            color: white;
        }

        /* Loading State */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-spinner {
            width: 48px;
            height: 48px;
            border: 3px solid var(--lg-gray-200);
            border-top-color: var(--lg-red);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 24px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 18px;
            font-weight: 600;
            color: var(--lg-gray-700);
            margin-bottom: 8px;
        }

        .loading-subtext {
            font-size: 14px;
            color: var(--lg-gray-500);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .product-container {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .product-section:nth-child(odd) .product-container {
                direction: ltr;
            }

            .total-grid {
                grid-template-columns: 1fr;
            }

            .products-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .floating-header {
                padding: 8px 16px;
                gap: 8px;
            }

            .floating-btn span {
                display: none;
            }

            .style-title {
                font-size: 32px;
            }

            .package-summary {
                gap: 24px;
            }

            .product-name {
                font-size: 24px;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .footer-container {
                flex-direction: column;
                gap: 24px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">ë§ì¶¤ ê°€ì „ì„ ì°¾ê³  ìˆì–´ìš”</div>
        <div class="loading-subtext">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”...</div>
    </div>

    <!-- Floating Header -->
    <header class="floating-header">
        <a href="/onboarding/" class="floating-btn">
            ğŸ”„ <span>ë‹¤ì‹œí•˜ê¸°</span>
        </a>
        <div class="floating-divider"></div>
        <button class="floating-btn" onclick="saveResult()">
            ğŸ’¾ <span>ì €ì¥</span>
        </button>
        <button class="floating-btn" onclick="shareKakao()">
            ğŸ’¬ <span>ê³µìœ </span>
        </button>
        <div class="floating-divider"></div>
        <button class="floating-btn primary" onclick="addAllToCart()">
            ğŸ›’ <span>ì „ì²´ ë‹´ê¸°</span>
        </button>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <div class="style-badge">
                <span>âœ¨</span>
                <span id="styleBadgeText">ë‹¹ì‹ ì„ ìœ„í•œ ë§ì¶¤ ìŠ¤íƒ€ì¼</span>
            </div>
            <h1 class="style-title" id="styleTitle">ëª¨ë˜ & ë¯¸ë‹ˆë©€ ë¼ì´í”„ë¥¼ ìœ„í•œ<br>ì˜¤ë¸Œì œ ìŠ¤íƒ€ì¼</h1>
            <p class="style-subtitle" id="styleSubtitle">
                ë‹¹ì‹ ì˜ ê³µê°„ ë¶„ìœ„ê¸°ì™€ ë¼ì´í”„ìŠ¤íƒ€ì¼ì„ ë°˜ì˜í•´<br>
                Essence White ì»¬ëŸ¬ì˜ ì˜¤ë¸Œì œì»¬ë ‰ì…˜ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬ì„±í–ˆì–´ìš”.
            </p>
            <div class="package-summary">
                <div class="summary-item">
                    <div class="summary-value" id="totalProducts">0<span class="unit">ê°œ</span></div>
                    <div class="summary-label">ì¶”ì²œ ê°€ì „</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value" id="totalDiscount">0<span class="unit">%</span></div>
                    <div class="summary-label">í‰ê·  í• ì¸ìœ¨</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value" id="matchScore">0<span class="unit">%</span></div>
                    <div class="summary-label">ë§¤ì¹­ ì ìˆ˜</div>
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <span>ìŠ¤í¬ë¡¤í•´ì„œ í™•ì¸í•˜ê¸°</span>
            <div class="scroll-arrow">â†“</div>
        </div>
    </section>

    <!-- Product Sections (Dynamic) -->
    <div id="productSections"></div>

    <!-- Total Summary -->
    <section class="total-section">
        <div class="total-container">
            <div class="total-header">
                <h2 class="total-title">íŒ¨í‚¤ì§€ ê²¬ì  ìš”ì•½</h2>
                <p class="total-subtitle">ì„ íƒí•˜ì‹  ê°€ì „ íŒ¨í‚¤ì§€ì˜ ì´ ê¸ˆì•¡ì…ë‹ˆë‹¤</p>
            </div>
            <div class="total-grid">
                <div class="total-card">
                    <div class="total-card-label">ì •ê°€ í•©ê³„</div>
                    <div class="total-card-value" id="originalTotal">0ì›</div>
                </div>
                <div class="total-card">
                    <div class="total-card-label">ì´ í• ì¸</div>
                    <div class="total-card-value highlight" id="totalDiscountAmount">-0ì›</div>
                </div>
                <div class="total-card">
                    <div class="total-card-label">ìµœì¢… ê²°ì œ ì˜ˆì •ê¸ˆì•¡</div>
                    <div class="total-card-value" id="finalTotal">0ì›</div>
                </div>
            </div>
            <div class="total-actions">
                <a href="https://bestshop.lge.co.kr/counselReserve/main/MC11420001?inflow=lgekor" 
                   target="_blank" class="btn btn-white">
                    ğŸ“… ë² ìŠ¤íŠ¸ìƒµ ìƒë‹´ ì˜ˆì•½
                </a>
                <button class="btn btn-outline" onclick="addAllToCart()">
                    ğŸ›’ ì¥ë°”êµ¬ë‹ˆ ëª¨ë‘ ë‹´ê¸°
                </button>
                <button class="btn btn-outline" onclick="scrollToAlternatives()">
                    ğŸ” ë‹¤ë¥¸ ì¶”ì²œ í›„ë³´
                </button>
            </div>
        </div>
    </section>

    <!-- Alternative Products -->
    <section class="alternatives-section" id="alternativesSection">
        <div class="alternatives-container">
            <div class="alternatives-header">
                <h2 class="alternatives-title">ë‹¤ë¥¸ ì¶”ì²œ í›„ë³´</h2>
                <p class="alternatives-subtitle">ì¡°ê±´ì— ë§ëŠ” ë‹¤ë¥¸ ëª¨ë¸ë„ í™•ì¸í•´ ë³´ì„¸ìš”</p>
            </div>
            <div class="category-tabs" id="categoryTabs">
                <button class="category-tab active" data-category="all">ì „ì²´</button>
                <button class="category-tab" data-category="refrigerator">ëƒ‰ì¥ê³ </button>
                <button class="category-tab" data-category="washer">ì„¸íƒê¸°</button>
                <button class="category-tab" data-category="tv">TV</button>
                <button class="category-tab" data-category="air">ì—ì–´ì»¨</button>
            </div>
            <div class="products-grid" id="productsGrid"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-logo">LG í™ˆìŠ¤íƒ€ì¼ë§</div>
            <div class="footer-links">
                <a href="#">ì´ìš©ì•½ê´€</a>
                <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a href="#">ê³ ê°ì„¼í„°</a>
            </div>
        </div>
    </footer>

    <script>
        // ì˜¨ë³´ë”© ë°ì´í„° íŒŒì‹±
        const urlParams = new URLSearchParams(window.location.search);
        const onboardingData = urlParams.get('data') ? JSON.parse(decodeURIComponent(urlParams.get('data'))) : null;

        // ìŠ¤íƒ€ì¼ ë©”ì‹œì§€ ìƒì„±
        const styleMessages = {
            modern: {
                badge: "ëª¨ë˜ & ë¯¸ë‹ˆë©€",
                title: "ëª¨ë˜ & ë¯¸ë‹ˆë©€ ë¼ì´í”„ë¥¼ ìœ„í•œ<br>ì˜¤ë¸Œì œ ìŠ¤íƒ€ì¼",
                subtitle: "ë‹¹ì‹ ì˜ ê³µê°„ ë¶„ìœ„ê¸°ì™€ ë¼ì´í”„ìŠ¤íƒ€ì¼ì„ ë°˜ì˜í•´<br>Essence White ì»¬ëŸ¬ì˜ ì˜¤ë¸Œì œì»¬ë ‰ì…˜ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬ì„±í–ˆì–´ìš”."
            },
            cozy: {
                badge: "ë”°ëœ»í•œ ì½”ì§€",
                title: "ë”°ëœ»í•˜ê³  ìì—°ìŠ¤ëŸ¬ìš´<br>ì½”ì§€ íŒ¨ë°€ë¦¬ ìŠ¤íƒ€ì¼",
                subtitle: "Nature Beige í†¤ê³¼ íŒ¨ë°€ë¦¬ êµ¬ì„±ì— ìµœì í™”ëœ<br>ëŒ€ìš©ëŸ‰ ê°€ì „ê³¼ ì—ë„ˆì§€ íš¨ìœ¨ ì¤‘ì‹¬ ì¡°í•©ì´ì—ìš”."
            },
            natural: {
                badge: "ë‚´ì¶”ëŸ´ & ë„¤ì´ì²˜",
                title: "ìì—°ì„ ë‹®ì€ ë”°ëœ»í•œ ì·¨í–¥ì˜<br>ë¼ì´í”„ìŠ¤íƒ€ì¼ íŒ¨í‚¤ì§€",
                subtitle: "ì€ì€í•˜ê³  ì°¨ë¶„í•œ Nature Beige & Clay Brown ë¬´ë“œë¡œ<br>ì „ì²´ ê³µê°„ì´ ì¡°í™”ë¡­ê²Œ ì–´ìš¸ë¦½ë‹ˆë‹¤."
            },
            luxury: {
                badge: "ëŸ­ì…”ë¦¬ & í”„ë¦¬ë¯¸ì—„",
                title: "í”„ë¦¬ë¯¸ì—„ ê°ì„±ê³¼ ì„±ëŠ¥ì„ ëª¨ë‘ ì±™ê¸´<br>ê³ ê¸‰í˜• ë¼ì´í”„ìŠ¤íƒ€ì¼",
                subtitle: "ê³ ê¸‰í˜• ì˜ˆì‚°ì„ ë°˜ì˜í•´ í”„ë¦¬ë¯¸ì—„Â·ì‹œê·¸ë‹ˆì²˜ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤."
            }
        };

        // ìƒ˜í”Œ ì œí’ˆ ë°ì´í„°
        const sampleProducts = [
            {
                id: 1,
                category: 'refrigerator',
                categoryDisplay: 'ëƒ‰ì¥ê³ ',
                name: 'LG ì˜¤ë¸Œì œì»¬ë ‰ì…˜ ëƒ‰ì¥ê³ ',
                model: 'M874GBB551',
                description: '870L ëŒ€ìš©ëŸ‰ìœ¼ë¡œ 4ì¸ ê°€ì¡±ì—ê²Œ ìµœì í™”ëœ ìš©ëŸ‰ì…ë‹ˆë‹¤. ThinQ ì•±ê³¼ ì—°ë™í•˜ì—¬ ìŠ¤ë§ˆíŠ¸í•˜ê²Œ ê´€ë¦¬í•˜ì„¸ìš”.',
                reason: 'ê°€ì¡± ìˆ˜ì— ë§ëŠ” ëŒ€ìš©ëŸ‰, ì›í•˜ëŠ” ì˜ˆì‚° ë²”ìœ„ ë‚´',
                price: 4290000,
                discountPrice: 3490000,
                matchScore: 96,
                image: 'https://www.lge.co.kr/kr/images/refrigerators/md09023534/gallery/medium01.jpg'
            },
            {
                id: 2,
                category: 'washer',
                categoryDisplay: 'ì„¸íƒê¸°',
                name: 'LG íŠ¸ë¡¬ ì˜¤ë¸Œì œì»¬ë ‰ì…˜ ì›Œì‹œíƒ€ì›Œ',
                model: 'WL20HMZ',
                description: 'ì„¸íƒê¸°ì™€ ê±´ì¡°ê¸°ê°€ í•˜ë‚˜ë¡œ! ê³µê°„ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•˜ê³  AI DDê°€ ìµœì ì˜ ì„¸íƒ ì½”ìŠ¤ë¥¼ ìë™ ì„ íƒí•©ë‹ˆë‹¤.',
                reason: 'ì„¸íƒ ë¹ˆë„ì— ë§ëŠ” ëŒ€ìš©ëŸ‰, ê³µê°„ íš¨ìœ¨ ê·¹ëŒ€í™”',
                price: 3890000,
                discountPrice: 2990000,
                matchScore: 94,
                image: 'https://www.lge.co.kr/kr/images/washers/md09023538/gallery/medium01.jpg'
            },
            {
                id: 3,
                category: 'tv',
                categoryDisplay: 'TV',
                name: 'LG OLED evo TV',
                model: 'OLED77C4FNA',
                description: '77ì¸ì¹˜ ëŒ€í™”ë©´ìœ¼ë¡œ ì˜í™”ê´€ ê°™ì€ ëª°ì…ê°ì„ ì„ ì‚¬í•©ë‹ˆë‹¤. Î±9 Gen7 AI í”„ë¡œì„¸ì„œê°€ ì™„ë²½í•œ í™”ì§ˆì„ êµ¬í˜„í•©ë‹ˆë‹¤.',
                reason: 'ë¯¸ë””ì–´ ì†Œë¹„ íŒ¨í„´ì— ë§ì¶¤, ê±°ì‹¤ í¬ê¸° ìµœì í™”',
                price: 5290000,
                discountPrice: 3990000,
                matchScore: 92,
                image: 'https://www.lge.co.kr/kr/images/tv/md09023540/gallery/medium01.jpg'
            },
            {
                id: 4,
                category: 'air',
                categoryDisplay: 'ì—ì–´ì»¨',
                name: 'LG íœ˜ì„¼ ì˜¤ë¸Œì œì»¬ë ‰ì…˜ íƒ€ì›Œ',
                model: 'FQ18HDWBA1',
                description: '18í‰í˜• ì›í˜• íƒ€ì›Œ ì—ì–´ì»¨ìœ¼ë¡œ 360Â° ì…ì²´ ëƒ‰ë°©ì„ ì œê³µí•©ë‹ˆë‹¤. ë°˜ë ¤ë™ë¬¼ ì¼€ì–´ ê¸°ëŠ¥ìœ¼ë¡œ í« ê°€ì •ì—ë„ ìµœì í™”.',
                reason: 'í‰ìˆ˜ì— ë§ëŠ” ìš©ëŸ‰, ë°˜ë ¤ë™ë¬¼ ì¼€ì–´ ê¸°ëŠ¥',
                price: 2890000,
                discountPrice: 2290000,
                matchScore: 90,
                image: 'https://www.lge.co.kr/kr/images/air-conditioners/md09023542/gallery/medium01.jpg'
            }
        ];

        // ëŒ€ì²´ ì œí’ˆ ë°ì´í„°
        const alternativeProducts = [
            { ...sampleProducts[0], id: 5, name: 'LG ë””ì˜¤ìŠ¤ ì–¼ìŒì •ìˆ˜ê¸°ëƒ‰ì¥ê³ ', price: 3890000, discountPrice: 3190000, reason: 'í•©ë¦¬ì  ê°€ê²©ëŒ€' },
            { ...sampleProducts[1], id: 6, name: 'LG íŠ¸ë¡¬ ë“œëŸ¼ì„¸íƒê¸°', price: 1890000, discountPrice: 1490000, reason: '1ì¸ ê°€êµ¬ ì¶”ì²œ' },
            { ...sampleProducts[2], id: 7, name: 'LG QNED TV 65ì¸ì¹˜', price: 2890000, discountPrice: 1990000, reason: 'ê°€ì„±ë¹„ ì¶”ì²œ' },
            { ...sampleProducts[3], id: 8, name: 'LG íœ˜ì„¼ ë²½ê±¸ì´ ì—ì–´ì»¨', price: 1290000, discountPrice: 990000, reason: 'ì†Œí˜• ê³µê°„ ì¶”ì²œ' },
            { ...sampleProducts[0], id: 9, name: 'LG ì˜¤ë¸Œì œì»¬ë ‰ì…˜ ê¹€ì¹˜ëƒ‰ì¥ê³ ', price: 2490000, discountPrice: 1990000, reason: 'í•œì‹ ìš”ë¦¬ í•„ìˆ˜í…œ' },
            { ...sampleProducts[1], id: 10, name: 'LG ìŠ¤íƒ€ì¼ëŸ¬', price: 1890000, discountPrice: 1490000, reason: 'ì˜ë¥˜ ì¼€ì–´ ì¶”ì²œ' },
        ];

        // í˜ì´ì§€ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                initializePage();
                document.getElementById('loadingOverlay').style.display = 'none';
            }, 1500);
        });

        function initializePage() {
            // ìŠ¤íƒ€ì¼ ë©”ì‹œì§€ ì„¤ì •
            const style = onboardingData?.style || 'modern';
            const styleData = styleMessages[style];
            
            document.getElementById('styleBadgeText').textContent = styleData.badge;
            document.getElementById('styleTitle').innerHTML = styleData.title;
            document.getElementById('styleSubtitle').innerHTML = styleData.subtitle;

            // ìš”ì•½ ì •ë³´
            document.getElementById('totalProducts').innerHTML = `${sampleProducts.length}<span class="unit">ê°œ</span>`;
            document.getElementById('totalDiscount').innerHTML = `24<span class="unit">%</span>`;
            document.getElementById('matchScore').innerHTML = `93<span class="unit">%</span>`;

            // ì œí’ˆ ì„¹ì…˜ ë Œë”ë§
            renderProductSections();

            // ê°€ê²© ìš”ì•½ ì—…ë°ì´íŠ¸
            updatePriceSummary();

            // ëŒ€ì²´ ì œí’ˆ ë Œë”ë§
            renderAlternativeProducts('all');

            // ì¹´í…Œê³ ë¦¬ íƒ­ ì´ë²¤íŠ¸
            setupCategoryTabs();
        }

        function renderProductSections() {
            const container = document.getElementById('productSections');
            container.innerHTML = sampleProducts.map((product, index) => `
                <section class="product-section">
                    <div class="product-container">
                        <div class="product-image-wrapper">
                            <img src="${product.image}" alt="${product.name}" class="product-image" 
                                 onerror="this.src='https://via.placeholder.com/600x400?text=LG+Product'">
                            <div class="match-badge">${product.matchScore}% ë§¤ì¹­</div>
                        </div>
                        <div class="product-info">
                            <div class="product-category">${product.categoryDisplay}</div>
                            <h2 class="product-name">${product.name}</h2>
                            <div class="product-model">${product.model}</div>
                            <p class="product-description">${product.description}</p>
                            <div class="recommend-reason">
                                <div class="recommend-reason-title">âœ¨ ì¶”ì²œ ì´ìœ </div>
                                <div class="recommend-reason-text">${product.reason}</div>
                            </div>
                            <div class="price-section">
                                <span class="price-original">${formatPrice(product.price)}ì›</span>
                                <span class="price-discount">${formatPrice(product.discountPrice)}<span class="won">ì›</span></span>
                                <span class="price-badge">${Math.round((1 - product.discountPrice / product.price) * 100)}% OFF</span>
                            </div>
                            <div class="product-actions">
                                <button class="btn btn-primary" onclick="addToCart(${product.id})">
                                    ğŸ›’ ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
                                </button>
                                <a href="https://www.lge.co.kr/search?search=${product.model}" target="_blank" class="btn btn-secondary">
                                    ğŸ”— ìƒì„¸ë³´ê¸°
                                </a>
                            </div>
                        </div>
                    </div>
                </section>
            `).join('');
        }

        function updatePriceSummary() {
            const originalTotal = sampleProducts.reduce((sum, p) => sum + p.price, 0);
            const discountTotal = sampleProducts.reduce((sum, p) => sum + p.discountPrice, 0);
            const savings = originalTotal - discountTotal;

            document.getElementById('originalTotal').textContent = formatPrice(originalTotal) + 'ì›';
            document.getElementById('totalDiscountAmount').textContent = '-' + formatPrice(savings) + 'ì›';
            document.getElementById('finalTotal').textContent = formatPrice(discountTotal) + 'ì›';
        }

        function renderAlternativeProducts(category) {
            const filtered = category === 'all' 
                ? alternativeProducts 
                : alternativeProducts.filter(p => p.category === category);
            
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = filtered.map(product => `
                <div class="product-card" onclick="viewProduct(${product.id})">
                    <img src="${product.image}" alt="${product.name}" class="product-card-image"
                         onerror="this.src='https://via.placeholder.com/400x200?text=LG+Product'">
                    <div class="product-card-content">
                        <div class="product-card-category">${product.categoryDisplay}</div>
                        <div class="product-card-name">${product.name}</div>
                        <div class="product-card-price">${formatPrice(product.discountPrice)}ì›</div>
                        <div class="product-card-reason">ğŸ’¡ ${product.reason}</div>
                    </div>
                </div>
            `).join('');
        }

        function setupCategoryTabs() {
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    renderAlternativeProducts(tab.dataset.category);
                });
            });
        }

        function formatPrice(price) {
            return price.toLocaleString('ko-KR');
        }

        function addToCart(productId) {
            alert(`ì œí’ˆ ${productId}ì´(ê°€) ì¥ë°”êµ¬ë‹ˆì— ë‹´ê²¼ìŠµë‹ˆë‹¤.`);
        }

        function addAllToCart() {
            alert('ëª¨ë“  ì œí’ˆì´ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê²¼ìŠµë‹ˆë‹¤.');
        }

        // ============================================================
        // ğŸ”¥ ì„œë²„ ì €ì¥ ê¸°ëŠ¥
        // ============================================================
        let savedPortfolioId = null;

        async function saveResult() {
            const saveBtn = document.querySelector('.floating-btn[onclick="saveResult()"]');
            const originalText = saveBtn.innerHTML;
            
            try {
                // ë¡œë”© í‘œì‹œ
                saveBtn.innerHTML = 'ğŸ’¾ <span>ì €ì¥ ì¤‘...</span>';
                saveBtn.disabled = true;

                // ìŠ¤íƒ€ì¼ ì •ë³´
                const style = onboardingData?.style || 'modern';
                const styleData = styleMessages[style];

                // ì„œë²„ì— ì €ì¥ ìš”ì²­
                const response = await fetch('/api/portfolio/save/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        user_id: getUserId(),
                        style_type: style,
                        style_title: styleData.title.replace(/<br>/g, ' '),
                        style_subtitle: styleData.subtitle.replace(/<br>/g, ' '),
                        onboarding_data: onboardingData || {},
                        products: sampleProducts,
                        match_score: 93
                    })
                });

                const result = await response.json();

                if (result.success) {
                    savedPortfolioId = result.portfolio_id;
                    
                    // ì„±ê³µ ì•Œë¦¼
                    showToast(`âœ… í¬íŠ¸í´ë¦¬ì˜¤ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤! (ID: ${result.portfolio_id})`);
                    
                    // URL ì—…ë°ì´íŠ¸ (ë’¤ë¡œê°€ê¸° ì‹œì—ë„ ìœ ì§€)
                    history.replaceState(null, '', `/portfolio/${result.portfolio_id}/`);
                    
                    // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
                    saveBtn.innerHTML = 'âœ… <span>ì €ì¥ë¨</span>';
                } else {
                    throw new Error(result.error || 'ì €ì¥ ì‹¤íŒ¨');
                }
            } catch (error) {
                console.error('ì €ì¥ ì˜¤ë¥˜:', error);
                showToast(`âŒ ì €ì¥ ì‹¤íŒ¨: ${error.message}`);
                saveBtn.innerHTML = originalText;
            } finally {
                saveBtn.disabled = false;
            }
        }

        // ì‚¬ìš©ì ID ê°€ì ¸ì˜¤ê¸° (ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì—°ë™ ì „ê¹Œì§€ëŠ” ì„¸ì…˜ ê¸°ë°˜)
        function getUserId() {
            let userId = localStorage.getItem('lg_homestyling_user_id');
            if (!userId) {
                userId = 'guest_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('lg_homestyling_user_id', userId);
            }
            return userId;
        }

        // ============================================================
        // ğŸŸ¡ ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ê¸°ëŠ¥
        // ============================================================
        // ì¹´ì¹´ì˜¤ JS í‚¤ëŠ” ì„œë²„ì—ì„œ ì „ë‹¬ë°›ê±°ë‚˜, í™˜ê²½ì— ë§ê²Œ ì„¤ì •
        const KAKAO_JS_KEY = '{{ kakao_js_key|default:"" }}';
        let kakaoInitialized = false;

        // ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™”
        function initKakao() {
            if (typeof Kakao !== 'undefined' && !kakaoInitialized) {
                if (!Kakao.isInitialized()) {
                    Kakao.init(KAKAO_JS_KEY);
                    console.log('âœ… ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” ì™„ë£Œ');
                }
                kakaoInitialized = true;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¹´ì¹´ì˜¤ SDK ë¡œë“œ
        (function loadKakaoSDK() {
            const script = document.createElement('script');
            script.src = 'https://t1.kakaocdn.net/kakao_js_sdk/2.6.0/kakao.min.js';
            script.integrity = 'sha384-6MFdIr0zOira1CHQkedUqJVql0YtcZA1P0nbPrQYJXVJZUkTk/oX4U9GhLYdmfPcR';
            script.crossOrigin = 'anonymous';
            script.onload = initKakao;
            document.head.appendChild(script);
        })();

        function shareKakao() {
            // ì¹´ì¹´ì˜¤ SDK í™•ì¸
            if (typeof Kakao === 'undefined') {
                showToast('â³ ì¹´ì¹´ì˜¤ SDK ë¡œë”© ì¤‘... ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            initKakao();
            
            // í¬íŠ¸í´ë¦¬ì˜¤ ì €ì¥ ì—¬ë¶€ í™•ì¸
            if (!savedPortfolioId) {
                showShareOptionsModal();
                return;
            }
            
            executeKakaoShare();
        }

        function showShareOptionsModal() {
            // ê³µìœ  ì˜µì…˜ ëª¨ë‹¬
            const modal = document.createElement('div');
            modal.id = 'shareModal';
            modal.innerHTML = `
                <div style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:10000;display:flex;align-items:center;justify-content:center;">
                    <div style="background:white;border-radius:20px;padding:32px;max-width:360px;width:90%;text-align:center;">
                        <div style="font-size:48px;margin-bottom:16px;">ğŸ’¬</div>
                        <h3 style="font-size:20px;font-weight:700;margin-bottom:8px;">ê³µìœ í•˜ê¸°</h3>
                        <p style="font-size:14px;color:#6B6B6B;margin-bottom:24px;">ì €ì¥í•˜ê³  ê³µìœ í•˜ë©´ ë§í¬ê°€ ìƒì„±ë¼ìš”!</p>
                        <div style="display:flex;flex-direction:column;gap:12px;">
                            <button onclick="saveAndShare()" style="padding:14px;border-radius:12px;border:none;background:#FEE500;color:#191919;font-size:15px;font-weight:600;cursor:pointer;">
                                ğŸ’¾ ì €ì¥í•˜ê³  ì¹´ì¹´ì˜¤í†¡ ê³µìœ 
                            </button>
                            <button onclick="shareLinkOnly()" style="padding:14px;border-radius:12px;border:none;background:#F5F5F5;color:#4A4A4A;font-size:15px;font-weight:600;cursor:pointer;">
                                ğŸ“‹ í˜„ì¬ ë§í¬ ë³µì‚¬
                            </button>
                            <button onclick="closeShareModal()" style="padding:14px;border-radius:12px;border:none;background:transparent;color:#9E9E9E;font-size:14px;cursor:pointer;">
                                ì·¨ì†Œ
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function closeShareModal() {
            const modal = document.getElementById('shareModal');
            if (modal) modal.remove();
        }

        async function saveAndShare() {
            closeShareModal();
            await saveResult();
            if (savedPortfolioId) {
                executeKakaoShare();
            }
        }

        function shareLinkOnly() {
            closeShareModal();
            copyShareLink(window.location.href);
        }

        async function executeKakaoShare() {
            try {
                showToast('ğŸ“¤ ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ì¤€ë¹„ ì¤‘...');

                // ì„œë²„ì— ê³µìœ  ê¸°ë¡ (ì„ íƒì )
                let shareUrl = window.location.href;
                
                if (savedPortfolioId) {
                    try {
                        const response = await fetch(`/api/portfolio/${savedPortfolioId}/share/`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' }
                        });
                        const result = await response.json();
                        if (result.success && result.share_url) {
                            shareUrl = result.share_url;
                        }
                    } catch (e) {
                        console.warn('ê³µìœ  ê¸°ë¡ ì‹¤íŒ¨:', e);
                    }
                }

                // ìŠ¤íƒ€ì¼ ì •ë³´
                const style = onboardingData?.style || 'modern';
                const styleData = styleMessages[style];

                // ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ì‹¤í–‰
                Kakao.Share.sendDefault({
                    objectType: 'feed',
                    content: {
                        title: 'LG í™ˆìŠ¤íƒ€ì¼ë§ - ' + styleData.badge,
                        description: styleData.subtitle.replace(/<br>/g, ' ').substring(0, 100),
                        imageUrl: 'https://www.lge.co.kr/kr/images/brand/objet-collection/2024/visual/kv_visual_bg_w.webp',
                        link: {
                            mobileWebUrl: shareUrl,
                            webUrl: shareUrl,
                        },
                    },
                    social: {
                        likeCount: Math.floor(Math.random() * 1000) + 500,
                        sharedCount: Math.floor(Math.random() * 100) + 50,
                    },
                    buttons: [
                        {
                            title: 'ğŸ  ì¶”ì²œ ê²°ê³¼ ë³´ê¸°',
                            link: {
                                mobileWebUrl: shareUrl,
                                webUrl: shareUrl,
                            },
                        },
                        {
                            title: 'ğŸ¯ ë‚˜ë„ ì¶”ì²œë°›ê¸°',
                            link: {
                                mobileWebUrl: window.location.origin + '/onboarding/',
                                webUrl: window.location.origin + '/onboarding/',
                            },
                        },
                    ],
                });

                showToast('âœ… ì¹´ì¹´ì˜¤í†¡ ê³µìœ ì°½ì´ ì—´ë ¸ì–´ìš”!');
                
            } catch (error) {
                console.error('ì¹´ì¹´ì˜¤ ê³µìœ  ì˜¤ë¥˜:', error);
                // í´ë°±: ë§í¬ ë³µì‚¬
                copyShareLink(window.location.href);
            }
        }

        function copyShareLink(url) {
            navigator.clipboard.writeText(url || window.location.href).then(() => {
                showToast('ğŸ“‹ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì¹´ì¹´ì˜¤í†¡ì— ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”.');
            }).catch(() => {
                showToast('ë§í¬ ë³µì‚¬ ì‹¤íŒ¨');
            });
        }

        // ============================================================
        // Toast ì•Œë¦¼
        // ============================================================
        function showToast(message) {
            // ê¸°ì¡´ í† ìŠ¤íŠ¸ ì œê±°
            const existingToast = document.querySelector('.toast-notification');
            if (existingToast) existingToast.remove();

            const toast = document.createElement('div');
            toast.className = 'toast-notification';
            toast.innerHTML = message;
            toast.style.cssText = `
                position: fixed;
                bottom: 100px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0, 0, 0, 0.9);
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                font-size: 14px;
                font-weight: 500;
                z-index: 10000;
                animation: toastIn 0.3s ease;
            `;
            document.body.appendChild(toast);

            // 3ì´ˆ í›„ ì œê±°
            setTimeout(() => {
                toast.style.animation = 'toastOut 0.3s ease forwards';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Toast ì• ë‹ˆë©”ì´ì…˜ CSS ì¶”ê°€
        const toastStyle = document.createElement('style');
        toastStyle.textContent = `
            @keyframes toastIn {
                from { opacity: 0; transform: translateX(-50%) translateY(20px); }
                to { opacity: 1; transform: translateX(-50%) translateY(0); }
            }
            @keyframes toastOut {
                from { opacity: 1; transform: translateX(-50%) translateY(0); }
                to { opacity: 0; transform: translateX(-50%) translateY(20px); }
            }
        `;
        document.head.appendChild(toastStyle);

        function viewProduct(productId) {
            console.log('View product:', productId);
        }

        function scrollToAlternatives() {
            document.getElementById('alternativesSection').scrollIntoView({ behavior: 'smooth' });
        }

        // ============================================================
        // í˜ì´ì§€ ë¡œë“œ ì‹œ URLì—ì„œ portfolio_id í™•ì¸
        // ============================================================
        (function checkExistingPortfolio() {
            const pathMatch = window.location.pathname.match(/\/portfolio\/([^/]+)/);
            if (pathMatch) {
                savedPortfolioId = pathMatch[1];
                // TODO: ì„œë²„ì—ì„œ í¬íŠ¸í´ë¦¬ì˜¤ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
                console.log('ê¸°ì¡´ í¬íŠ¸í´ë¦¬ì˜¤:', savedPortfolioId);
            }
        })();
    </script>
</body>
</html>

