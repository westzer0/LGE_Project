# ì˜¨ë³´ë”© ë°ì´í„° â†” ì œí’ˆ ìŠ¤í™ íŒŒì´í”„ë¼ì¸ ì—°ê²° ì‹œê°í™”

## ğŸ“Š ì „ì²´ íŒŒì´í”„ë¼ì¸ í”Œë¡œìš°

```mermaid
graph TD
    A[ì˜¨ë³´ë”© ì„¸ì…˜ ë°ì´í„°] --> B[Hard Filter ë‹¨ê³„]
    C[ì œí’ˆ DB] --> B
    B --> D[Scoring ë‹¨ê³„]
    D --> E[GPT Explanation]
    E --> F[ìµœì¢… ì¶”ì²œ ê²°ê³¼]
    
    subgraph "ì˜¨ë³´ë”© ë°ì´í„°"
        A1[vibe]
        A2[household_size]
        A3[housing_type]
        A4[pyung]
        A5[priority]
        A6[budget_level]
        A7[cooking]
        A8[laundry]
        A9[media]
    end
    
    subgraph "ì œí’ˆ ìŠ¤í™ ë°ì´í„°"
        C1[Product.name]
        C2[Product.price]
        C3[Product.category]
        C4[ProductSpec.spec_json]
    end
    
    A --> A1
    A --> A2
    A --> A3
    A --> A4
    A --> A5
    A --> A6
    A --> A7
    A --> A8
    A --> A9
    
    C --> C1
    C --> C2
    C --> C3
    C --> C4
```

---

## ğŸ”— ì¹¼ëŸ¼ ë§¤í•‘ ìƒì„¸

### 1ë‹¨ê³„: Hard Filter (ì œí’ˆ ì œì™¸/í¬í•¨ ê²°ì •)

| ì˜¨ë³´ë”© ì¹¼ëŸ¼ | ì œí’ˆ ìŠ¤í™ ì¹¼ëŸ¼ | ì—°ê²° ë¡œì§ | ì˜ˆì‹œ |
|------------|--------------|----------|------|
| `housing_type = 'studio'` (ì›ë£¸) | `spec_json['ê¹Šì´']` ë˜ëŠ” `spec_json['ê¹Šì´(mm)']` | `depth_mm > 750` â†’ ì œì™¸ | ì›ë£¸ì€ ëƒ‰ì¥ê³  ê¹Šì´ 750mm ì´ˆê³¼ ì œí’ˆ ì œì™¸ |
| `household_size = 1` | `spec_json['ìš©ëŸ‰']` ë˜ëŠ” `spec_json['ì„¸íƒ ìš©ëŸ‰']` | `capacity_kg >= 24` â†’ ì œì™¸ | 1ì¸ ê°€êµ¬ëŠ” ì„¸íƒê¸° ìš©ëŸ‰ 24kg ì´ìƒ ì œì™¸ |
| `budget_level = 'low'` | `Product.price` | `price > 2000000` â†’ ì œì™¸ | ì €ì˜ˆì‚° ì‚¬ìš©ìëŠ” 200ë§Œì› ì´ˆê³¼ ì œí’ˆ ì œì™¸ |
| `onboarding_data['media'] = 'none'` | `Product.category` | `category == 'TV'` â†’ ì œì™¸ | ë¯¸ë””ì–´ ì†Œë¹„ ì•ˆ í•˜ëŠ” ì‚¬ìš©ìëŠ” TV ì¹´í…Œê³ ë¦¬ ì œì™¸ |
| `has_pet = False` | `Product.name` | `nameì— 'í«' í¬í•¨` â†’ ì œì™¸ | ë°˜ë ¤ë™ë¬¼ ì—†ëŠ” ì‚¬ìš©ìëŠ” í« ê´€ë ¨ ì œí’ˆ ì œì™¸ |
| `onboarding_data['cooking'] = 'rarely'` | `Product.name` | `nameì— 'ë ˆì¸ì§€' í¬í•¨` â†’ ì œì™¸ | ìš”ë¦¬ ì•ˆ í•˜ëŠ” ì‚¬ìš©ìëŠ” ë ˆì¸ì§€ ì œì™¸ |
| `pyung <= 20` | `spec_json['ê¹Šì´']` | ì¹´í…Œê³ ë¦¬ë³„ í¬ê¸° ì œí•œ | 20í‰ ì´í•˜ ì£¼íƒì€ ëŒ€í˜• ê°€ì „ ì œì™¸ |

**í•„í„°ë§ ì½”ë“œ ìœ„ì¹˜**: `api/utils/playbook_filters.py`

---

### 2ë‹¨ê³„: Scoring Model (ì ìˆ˜ ê³„ì‚°)

#### 2-1. SpecScore ê³„ì‚°

| ì˜¨ë³´ë”© ì¹¼ëŸ¼ | ì œí’ˆ ìŠ¤í™ ì¹¼ëŸ¼ | ì ìˆ˜ ë¡œì§ | ì˜ˆì‹œ |
|------------|--------------|----------|------|
| `household_size = 4` | `spec_json['ìš©ëŸ‰']` ë˜ëŠ” `spec_json['ì´ ìš©ëŸ‰']` | 750~850L ë²”ìœ„ â†’ +10ì  | 4ì¸ ê°€ì¡± ì ì • ëƒ‰ì¥ê³  ìš©ëŸ‰ |
| `household_size = 1` | `spec_json['ìš©ëŸ‰']` | `> 500L` â†’ -10ì  | 1ì¸ ê°€êµ¬ ëŒ€ìš©ëŸ‰ ëƒ‰ì¥ê³  ê°ì  |
| `onboarding_data['media'] = 'heavy'` | `spec_json['íŒ¨ë„ íƒ€ì…']` | `OLED` â†’ +10ì  | í—¤ë¹„ ë¯¸ë””ì–´ ì‚¬ìš©ì OLED TV ì„ í˜¸ |
| `onboarding_data['media'] = 'gaming'` | `spec_json['ì£¼ì‚¬ìœ¨']` | `>= 120Hz` â†’ +7ì  | ê²Œì„ ì‚¬ìš©ì ê³ ì£¼ì‚¬ìœ¨ TV ì„ í˜¸ |
| `selected_space = 'ë“œë ˆìŠ¤ë£¸'` | `Product.category = 'LIVING'` + `nameì— 'ì„¸íƒê¸°' í¬í•¨` | +5ì  | ë“œë ˆìŠ¤ë£¸ ì„ íƒ ì‹œ ì˜ë¥˜ ê´€ë¦¬ ê°€ì „ ê°€ì¤‘ì¹˜ |

**ìŠ¤ì½”ì–´ë§ ì½”ë“œ ìœ„ì¹˜**: `api/utils/playbook_scoring.py` â†’ `_calculate_spec_score()`

---

#### 2-2. PreferenceScore ê³„ì‚°

| ì˜¨ë³´ë”© ì¹¼ëŸ¼ | ì œí’ˆ ìŠ¤í™ ì¹¼ëŸ¼ | ì ìˆ˜ ë¡œì§ | ì˜ˆì‹œ |
|------------|--------------|----------|------|
| `priority = ['design']` | `Product.name`ì— 'OBJET' ë˜ëŠ” 'SIGNATURE' í¬í•¨ | `multiplier = 1.5` | ë””ìì¸ ìš°ì„  ì‚¬ìš©ì ì˜¤ë¸Œì œ/ì‹œê·¸ë‹ˆì²˜ ê°€ì‚°ì  |
| `priority = ['ai_feature']` | `Product.name`ì— 'ThinQ' ë˜ëŠ” 'AI DD' í¬í•¨ | `multiplier = 1.5` | AI ê¸°ëŠ¥ ìš°ì„  ì‚¬ìš©ì AI ê¸°ëŠ¥ ì œí’ˆ ê°€ì‚°ì  |
| `priority = ['energy']` | `spec_json['ì—ë„ˆì§€ ë“±ê¸‰']` | `1ë“±ê¸‰` â†’ `multiplier = 1.5` | ì—ë„ˆì§€ íš¨ìœ¨ ìš°ì„  ì‚¬ìš©ì 1ë“±ê¸‰ ì œí’ˆ ê°€ì‚°ì  |
| `vibe = 'modern'` + `priority = 'tech'` | ì¹´í…Œê³ ë¦¬ë³„ ìŠ¤í™ ê°€ì¤‘ì¹˜ ì ìš© | `resolution: 0.35, refresh_rate: 0.25, brightness: 0.20` | Modern+Tech ì¡°í•© ì‹œ í•´ìƒë„/ì£¼ì‚¬ìœ¨ ê°€ì¤‘ì¹˜ ë†’ìŒ |

**ìŠ¤ì½”ì–´ë§ ì½”ë“œ ìœ„ì¹˜**: `api/utils/playbook_scoring.py` â†’ `_calculate_preference_score()`

---

#### 2-3. LifestyleScore ê³„ì‚°

| ì˜¨ë³´ë”© ì¹¼ëŸ¼ | ì œí’ˆ ìŠ¤í™ ì¹¼ëŸ¼ | ì ìˆ˜ ë¡œì§ | ì˜ˆì‹œ |
|------------|--------------|----------|------|
| `onboarding_data['cooking'] = 'high'` | `spec_json['ìš©ëŸ‰']` (L) | `> 700L` â†’ +8ì  | ìš”ë¦¬ ë¹ˆë„ ë†’ì€ ì‚¬ìš©ì ëŒ€ìš©ëŸ‰ ëƒ‰ì¥ê³  ì„ í˜¸ |
| `onboarding_data['cooking'] = 'high'` | `Product.name`ì— 'ì¸ë•ì…˜ 3êµ¬' ë˜ëŠ” 'ì˜¤ë¸' í¬í•¨ | +5ì  | ìš”ë¦¬ ë¹ˆë„ ë†’ì€ ì‚¬ìš©ì ì¸ë•ì…˜/ì˜¤ë¸ ì„ í˜¸ |
| `onboarding_data['laundry'] = 'daily'` | `spec_json['ì„¸íƒ ìš©ëŸ‰']` (kg) | ì ì • ìš©ëŸ‰ ë²”ìœ„ â†’ ê°€ì‚°ì  | ë§¤ì¼ ì„¸íƒ íŒ¨í„´ì— ë§ëŠ” ìš©ëŸ‰ |
| `onboarding_data['media'] = 'heavy'` | `spec_json['ì£¼ì‚¬ìœ¨']` | `>= 120Hz` â†’ +7ì  | í—¤ë¹„ ë¯¸ë””ì–´ ì‚¬ìš©ì ê³ ì£¼ì‚¬ìœ¨ TV ì„ í˜¸ |

**ìŠ¤ì½”ì–´ë§ ì½”ë“œ ìœ„ì¹˜**: `api/utils/playbook_scoring.py` â†’ `_calculate_lifestyle_score()`

---

#### 2-4. ReviewScore ê³„ì‚°

| ì˜¨ë³´ë”© ì¹¼ëŸ¼ | ì œí’ˆ ìŠ¤í™ ì¹¼ëŸ¼ | ì ìˆ˜ ë¡œì§ | ì˜ˆì‹œ |
|------------|--------------|----------|------|
| (ì˜¨ë³´ë”© ë¬´ê´€) | `ProductReview` ì§‘ê³„ ë°ì´í„° | `avg_rating >= 4.7` AND `review_count >= 200` â†’ +8ì  | ê³ í‰ì /ë‹¤ìˆ˜ ë¦¬ë·° ì œí’ˆ ê°€ì‚°ì  |
| (ì˜¨ë³´ë”© ë¬´ê´€) | `ProductReview` ì§‘ê³„ ë°ì´í„° | `negative_keyword_index > 0.5` â†’ -4ì  | ë¶€ì • í‚¤ì›Œë“œ ì§€ìˆ˜ ë†’ì€ ì œí’ˆ ê°ì  |

**ìŠ¤ì½”ì–´ë§ ì½”ë“œ ìœ„ì¹˜**: `api/utils/playbook_scoring.py` â†’ `_calculate_review_score()`

---

#### 2-5. PriceScore ê³„ì‚°

| ì˜¨ë³´ë”© ì¹¼ëŸ¼ | ì œí’ˆ ìŠ¤í™ ì¹¼ëŸ¼ | ì ìˆ˜ ë¡œì§ | ì˜ˆì‹œ |
|------------|--------------|----------|------|
| `budget_level = 'medium'` + `budget_amount = 2000000` | `Product.price` | `price <= budget_amount` â†’ +10ì  | ì˜ˆì‚° ë‚´ ì œí’ˆ ê°€ì‚°ì  |
| `budget_level = 'medium'` + `budget_amount = 2000000` | `Product.price` | `price > budget_amount * 1.1` â†’ -5ì  | ì˜ˆì‚° 10% ì´ˆê³¼ ì œí’ˆ ê°ì  |
| `budget_level = 'medium'` + `budget_amount = 2000000` | `Product.price` | `price > budget_amount * 1.3` â†’ -15ì  | ì˜ˆì‚° 30% ì´ˆê³¼ ì œí’ˆ ê°•í•œ ê°ì  |

**ìŠ¤ì½”ì–´ë§ ì½”ë“œ ìœ„ì¹˜**: `api/utils/playbook_scoring.py` â†’ `_calculate_price_score()`

---

## ğŸ“‹ ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ êµ¬ì¡°

### OnboardingSession ëª¨ë¸ (ì˜¨ë³´ë”© ë°ì´í„°)

```python
class OnboardingSession(models.Model):
    # Step 1
    vibe = CharField()  # 'modern', 'cozy', 'pop', 'luxury'
    
    # Step 2
    household_size = IntegerField()  # 1, 2, 3, 4, ...
    
    # Step 3
    housing_type = CharField()  # 'apartment', 'detached', 'villa', 'officetel', 'studio'
    pyung = IntegerField()  # 20, 25, 30, ...
    
    # Step 4
    priority = CharField()  # 'design', 'tech', 'eco', 'value'
    
    # Step 5
    budget_level = CharField()  # 'low', 'medium', 'high'
    
    # ì¶”ê°€ ë°ì´í„° (recommendation_result JSONì— ì €ì¥)
    recommendation_result = JSONField()  # {
        # 'cooking': 'high', 'often', 'sometimes', 'rarely'
        # 'laundry': 'daily', 'weekly', 'few_times', 'rarely'
        # 'media': 'gaming', 'ott', 'movie', 'balanced', 'none'
        # 'pet': 'yes', 'no'
        # 'main_space': 'living', 'kitchen', 'dressing', 'all'
    }
    
    selected_categories = JSONField()  # ['TV', 'KITCHEN', 'LIVING']
```

**ìœ„ì¹˜**: `api/models.py` (line 166-311)

---

### Product ëª¨ë¸ (ì œí’ˆ ê¸°ë³¸ ì •ë³´)

```python
class Product(models.Model):
    name = CharField()  # 'LG ë””ì˜¤ìŠ¤ ì˜¤ë¸Œì œì»¬ë ‰ì…˜ ëƒ‰ì¥ê³ '
    model_number = CharField()  # 'DDU4BGE'
    category = CharField()  # 'TV', 'KITCHEN', 'LIVING', 'AIR', ...
    price = DecimalField()  # 2000000
    discount_price = DecimalField()  # 1500000
    image_url = URLField()
```

**ìœ„ì¹˜**: `api/models.py` (line 6-42)

---

### ProductSpec ëª¨ë¸ (ì œí’ˆ ìŠ¤í™ JSON)

```python
class ProductSpec(models.Model):
    product = OneToOneField(Product)  # 1:1 ê´€ê³„
    spec_json = TextField()  # JSON ë¬¸ìì—´
    
    # spec_json íŒŒì‹± ì˜ˆì‹œ:
    # {
    #     "ìš©ëŸ‰": "850L",
    #     "ì´ ìš©ëŸ‰": "850",
    #     "ê¹Šì´": "750mm",
    #     "ê¹Šì´(mm)": "750",
    #     "íŒ¨ë„ íƒ€ì…": "OLED",
    #     "í•´ìƒë„": "3840 Ã— 2160",
    #     "ì£¼ì‚¬ìœ¨": "120Hz",
    #     "ì„¸íƒ ìš©ëŸ‰": "24kg",
    #     "ì—ë„ˆì§€ ë“±ê¸‰": "1ë“±ê¸‰",
    #     "ë¸Œë¼ì´íŠ¸ë‹ˆìŠ¤": "800nit",
    #     ...
    # }
```

**ìœ„ì¹˜**: `api/models.py` (line 45-61)

**ìŠ¤í™ íŒŒì‹± í•¨ìˆ˜**: `api/utils/scoring.py` â†’ `parse_spec_json()` (line 464)

---

## ğŸ”„ íŒŒì´í”„ë¼ì¸ ë‹¨ê³„ë³„ ì²˜ë¦¬

### Step 1: Hard Filter (`api/utils/playbook_filters.py`)

```python
# 1. ì˜¨ë³´ë”© ë°ì´í„° + ì œí’ˆ ìŠ¤í™ ì¡°í•©ìœ¼ë¡œ í•„í„° í‚¤ ìƒì„±
filter_keys = [
    ("ì›ë£¸", "KITCHEN"),  # housing_type + category
    ("1ì¸", "KITCHEN"),   # household_size + category
    ("ì˜ˆì‚°_low", "ì „ì²´"),  # budget_level
]

# 2. ì •ì±… í…Œì´ë¸”ì—ì„œ ê·œì¹™ ì¡°íšŒ
rules = policy_loader.get_hard_filter_rules(filter_key)

# 3. ê° ê·œì¹™ì— ë”°ë¼ ì œí’ˆ ì œì™¸
if product.spec_json['ê¹Šì´(mm)'] > 750:
    exclude(product)  # ì›ë£¸ì€ ê¹Šì´ 750mm ì´ˆê³¼ ì œí’ˆ ì œì™¸
```

**ì •ì±… í…Œì´ë¸”**: `api/scoring_logic/hard_filter_rules.json`

---

### Step 2: Scoring Model (`api/utils/playbook_scoring.py`)

```python
# 5ê°œ ì»´í¬ë„ŒíŠ¸ ì ìˆ˜ ê³„ì‚°
score_breakdown = ScoreBreakdown()

# 1. SpecScore
score_breakdown.spec_score = calculate_spec_score(
    product.spec_json['ìš©ëŸ‰'],
    user_profile['household_size']
)

# 2. PreferenceScore
score_breakdown.preference_score = calculate_preference_score(
    product.name,
    user_profile['priority']
)

# 3. LifestyleScore
score_breakdown.lifestyle_score = calculate_lifestyle_score(
    product.spec_json,
    onboarding_data['cooking'],
    onboarding_data['laundry']
)

# 4. ReviewScore
score_breakdown.review_score = calculate_review_score(
    product.reviews
)

# 5. PriceScore
score_breakdown.price_score = calculate_price_score(
    product.price,
    user_profile['budget_amount']
)

# ìµœì¢… ì ìˆ˜ í•©ì‚°
total_score = (
    score_breakdown.spec_score +
    score_breakdown.preference_score +
    score_breakdown.lifestyle_score +
    score_breakdown.review_score +
    score_breakdown.price_score
)
```

**ì •ì±… í…Œì´ë¸”**: `api/scoring_logic/weight_rules.json`

---

### Step 3: GPT Explanation Layer (`api/services/playbook_explanation_generator.py`)

```python
explanation = {
    'why_summary': f"{score_breakdown.spec_score:.0f}ì ì˜ ìŠ¤í™ ì ìˆ˜ë¡œ...",
    'lifestyle_message': f"{household_size}ì¸ ê°€ì¡±ì˜ {cooking} ìš”ë¦¬ íŒ¨í„´ì— ë§ì¶°...",
    'design_message': f"{vibe} ì¸í…Œë¦¬ì–´ì™€ ì–´ìš¸ë¦¬ëŠ”...",
    'review_highlight': f"{avg_rating}ì ì˜ í‰ê·  í‰ì ìœ¼ë¡œ..."
}
```

---

## ğŸ¯ ì‹¤ì œ ì˜ˆì‹œ: ëƒ‰ì¥ê³  ì¶”ì²œ

### ì…ë ¥ ë°ì´í„° (ì˜¨ë³´ë”©)

```json
{
    "vibe": "modern",
    "household_size": 4,
    "housing_type": "apartment",
    "pyung": 30,
    "priority": ["tech", "value"],
    "budget_level": "medium",
    "budget_amount": 2000000,
    "categories": ["KITCHEN"],
    "onboarding_data": {
        "cooking": "high",
        "laundry": "weekly",
        "media": "balanced"
    }
}
```

### ì œí’ˆ ìŠ¤í™ ë°ì´í„°

```json
{
    "name": "LG ë””ì˜¤ìŠ¤ ì˜¤ë¸Œì œì»¬ë ‰ì…˜ ëƒ‰ì¥ê³ ",
    "category": "KITCHEN",
    "price": 1800000,
    "spec_json": {
        "ìš©ëŸ‰": "850L",
        "ì´ ìš©ëŸ‰": "850",
        "ê¹Šì´": "680mm",
        "ì—ë„ˆì§€ ë“±ê¸‰": "1ë“±ê¸‰"
    }
}
```

### íŒŒì´í”„ë¼ì¸ ì²˜ë¦¬

1. **Hard Filter**: í†µê³¼ (ê¹Šì´ 680mm < 750mm, ê°€ê²© 180ë§Œì› < 200ë§Œì›)

2. **Scoring**:
   - **SpecScore**: +10ì  (4ì¸ ê°€ì¡± ì ì • ìš©ëŸ‰ 850L)
   - **PreferenceScore**: +8ì  (Tech+Value ì¡°í•© ê°€ì¤‘ì¹˜)
   - **LifestyleScore**: +8ì  (ìš”ë¦¬ ë¹ˆë„ ë†’ìŒ, ëŒ€ìš©ëŸ‰ ëƒ‰ì¥ê³ )
   - **ReviewScore**: +6ì  (í‰ê·  í‰ì  4.5ì )
   - **PriceScore**: +10ì  (ì˜ˆì‚° ë‚´)
   - **TotalScore**: 42ì 

3. **Explanation**:
   ```
   "4ì¸ ê°€ì¡±ì˜ ìš”ë¦¬ ë¹ˆë„ê°€ ë†’ì€ ë¼ì´í”„ìŠ¤íƒ€ì¼ì— ë§ì¶° 850L ìš©ëŸ‰ì˜ 
   ë””ì˜¤ìŠ¤ ëƒ‰ì¥ê³ ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤. ì˜ˆì‚° ë²”ìœ„ ë‚´ í•©ë¦¬ì ì¸ ê°€ê²©ìœ¼ë¡œ 
   ì œê³µë©ë‹ˆë‹¤."
   ```

---

## ğŸ“ ê´€ë ¨ íŒŒì¼ ìœ„ì¹˜

| íŒŒì¼ | ì—­í•  |
|------|------|
| `api/models.py` | ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ ì •ì˜ |
| `api/utils/playbook_filters.py` | Hard Filter ë¡œì§ |
| `api/utils/playbook_scoring.py` | Scoring Model ë¡œì§ |
| `api/utils/product_filters.py` | ìŠ¤í™ ì¶”ì¶œ ìœ í‹¸ë¦¬í‹° |
| `api/utils/scoring.py` | ìŠ¤í™ íŒŒì‹± ìœ í‹¸ë¦¬í‹° |
| `api/services/playbook_recommendation_engine.py` | ì „ì²´ íŒŒì´í”„ë¼ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ |
| `api/scoring_logic/hard_filter_rules.json` | Hard Filter ì •ì±… í…Œì´ë¸” |
| `api/scoring_logic/weight_rules.json` | Weight ì •ì±… í…Œì´ë¸” |

---

## ğŸ” ì£¼ìš” í•¨ìˆ˜ í˜¸ì¶œ ì²´ì¸

```
PlaybookRecommendationEngine.get_recommendations()
    â†“
1. _apply_hard_filter()
    â†’ PlaybookHardFilter.apply_filters()
        â†’ get_product_spec(product)  # spec_json íŒŒì‹±
        â†’ extract_capacity(spec)     # ìš©ëŸ‰ ì¶”ì¶œ
        â†’ extract_size(spec)         # í¬ê¸° ì¶”ì¶œ
    â†“
2. _score_products()
    â†’ PlaybookScoringModel.calculate_product_score()
        â†’ parse_spec_json(product)   # spec_json íŒŒì‹±
        â†’ _calculate_spec_score()
        â†’ _calculate_preference_score()
        â†’ _calculate_lifestyle_score()
        â†’ _calculate_review_score()
        â†’ _calculate_price_score()
    â†“
3. _format_recommendation_with_explanation()
    â†’ PlaybookExplanationGenerator.generate_explanation()
```

---

## âœ… ìš”ì•½

**ì˜¨ë³´ë”© ë°ì´í„°** â†’ **Hard Filter** â†’ **Scoring Model** â†’ **GPT Explanation** â†’ **ìµœì¢… ì¶”ì²œ**

1. **ì˜¨ë³´ë”© ì¹¼ëŸ¼**: `household_size`, `housing_type`, `priority`, `cooking`, `laundry`, `media` ë“±
2. **ì œí’ˆ ìŠ¤í™ ì¹¼ëŸ¼**: `spec_json['ìš©ëŸ‰']`, `spec_json['ê¹Šì´']`, `spec_json['ì£¼ì‚¬ìœ¨']`, `Product.price` ë“±
3. **ì—°ê²° ë°©ì‹**: ì •ì±… í…Œì´ë¸”(JSON) ê¸°ë°˜ ê·œì¹™ ë§¤ì¹­ + ì§ì ‘ ë¹„êµ ì—°ì‚°
4. **ì ìˆ˜ ê³„ì‚°**: 5ê°œ ì»´í¬ë„ŒíŠ¸ (SpecScore, PreferenceScore, LifestyleScore, ReviewScore, PriceScore) í•©ì‚°


